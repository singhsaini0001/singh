"use strict";(self["webpackChunkdesktop_wallet"]=self["webpackChunkdesktop_wallet"]||[]).push([[484],{71615:function(t,e,s){s.d(e,{Z:function(){return v}});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-6 mb-8 flex rtl-space-x-reverse"},[s("squircle-button",{staticClass:"t-asset_action_row-receive w-1/5",attrs:{disabled:!t.isAssetReceivable&&!t.allowGeneralActions,text:t.$t("general.receive"),icon:"icon-arrow_down"},on:{click:t.goToReceive}}),s("squircle-button",{staticClass:"t-asset_action_row-send w-1/5",attrs:{disabled:!t.isAssetSendable&&!t.allowGeneralActions||!t.hasSendableAssets,text:t.$t("general.send"),icon:"icon-arrow_right_up"},on:{click:t.goToSend}}),s("squircle-button",{staticClass:"t-asset_action_row-swap w-1/5",attrs:{disabled:!t.isAssetSwappable&&!t.allowGeneralActions||!t.hasSwappableAssets,loading:t.swapLoading,text:t.$t("general.swap"),icon:"icon-swap"},on:{click:t.goToSwap}}),s("squircle-button",{staticClass:"t-asset_action_row-buy w-1/5",attrs:{disabled:!t.isAssetBuyable&&!t.allowGeneralActions||!t.hasBuyableAssets,text:t.$t("general.buy"),icon:"icon-buy"},on:{click:t.goToBuy}}),s("squircle-button",{staticClass:"t-asset_action_row-sell w-1/5",attrs:{disabled:!t.isAssetSellable&&!t.allowGeneralActions||!t.hasSellableAssets,text:t.$t("general.sell"),icon:"icon-arrow_down",transform:"scale(1,-1)"},on:{click:t.goToSell}})],1)},i=[],a=(s(57658),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"t-squirce_button-click",class:["flex flex-col items-center",{"opacity-40":t.disabled&&!t.loading}],on:{click:function(e){!t.unavailable&&t.$emit("click")}}},[s("button",{class:["flex w-12 h-12 mb-2 bg-squircle-desktop bg-contain items-center justify-center",{"cursor-not-allowed":t.unavailable}]},[t.loading?s("spinning-loader",{staticClass:"w-5 mb-6"}):s("i",{staticClass:"text-black",class:t.icon,style:{transform:t.transform}})],1),s("span",{staticClass:"text-dark-N60 text-xs font-bold tracking-wide"},[t._v(t._s(t.text))])])}),r=[],o=s(93272),l={components:{SpinningLoader:o.Z},props:{disabled:{type:Boolean,default:!1},icon:{type:String,default:""},loading:{type:Boolean,default:!1},text:{type:String,default:""},transform:{type:String,default:""}},computed:{unavailable(){return this.disabled||this.loading}}},c=l,d=s(1001),h=(0,d.Z)(c,a,r,!1,null,null,null),u=h.exports,p=s(56258),g=s(39765),m=s(70794),f=s(35210),w={components:{SquircleButton:u},props:{address:{type:String,default:""},token:{type:Object,default:void 0}},computed:{allowGeneralActions(){return"TokenOverview"!==this.$route.name},chain(){return this.token.chain},ownsAsset(){return!!this.$store.getters.ownedTokens.find((t=>t.contract.contract===this.address))},isAssetReceivable(){return this.ownsAsset},isAssetSendable(){return this.ownsAsset&&(0,m.Z)(this.token.balance).isGreaterThan(0)},isAssetSwappable(){return this.swapAddress&&this.$store.getters.isTokenSwappable(this.swapAddress)&&this.$store.getters.isOnMainnet&&(0,m.Z)(this.token.balance).isGreaterThan(0)&&(0,f.cA)(this.token.chain)},isAssetBuyable(){return this.$store.getters.isBuyable(this.chain,this.address)},isAssetSellable(){return this.$store.getters.isSellable(this.chain,this.address)&&(0,m.Z)(this.token.balance).isGreaterThan(0)},isAssetTestnet(){return this.$store.getters.isTestnet(this.chain)},hasSendableAssets(){return this.$store.getters.ownedTokens.some((t=>(0,m.Z)(t.balance).isGreaterThan(0)))},hasSwappableAssets(){return!!this.$store.getters.swappableTokens.some((t=>(0,m.Z)(t.balance).isGreaterThan(0)))&&!this.isAssetTestnet},hasBuyableAssets(){return!!this.$store.getters.buyableTokens.length&&!this.isAssetTestnet},hasSellableAssets(){return!!this.$store.getters.sellableTokens.length&&!this.isAssetTestnet},swapAddress(){return this.address===g.L1?g.NA:this.address},swapLoading(){const t=this.$store.getters.swappableTokens,e=this.$store.getters.isLoading("tokens"),s=this.$store.getters.isLoading("swappableTokens"),n=s&&!t.length;return n||e&&!t.length}},methods:{goToReceive(){this.sendStats("receive"),this.$router.push({name:"ReceiveToken",params:{token:this.token}})},goToSend(){const t=this.isAssetSendable?this.token:this.$store.getters.ownedTokens.find((t=>(0,m.Z)(t.balance).isGreaterThan(0)));this.sendStats("send"),this.$router.push({name:"SendToken",params:{token:t}})},goToSwap(){const t=this.isAssetSwappable?this.token:this.$store.getters.swappableTokens.find((t=>(0,m.Z)(t.balance).isGreaterThan(0)));this.sendStats("swap"),this.$router.push({name:"Swap",query:{from:this.swapAddress,chain:JSON.stringify(t.chain)}})},goToBuy(){this.sendStats("buy"),this.$router.push({name:"Buy",params:{token:this.token}})},goToSell(){const t=this.isAssetSellable?this.token:this.$store.getters.sellableTokens[0];this.sendStats("sell"),this.$router.push({name:"Sell",params:{token:t}})},sendStats(t){const e=this.token.symbol??this.token.contract?.symbol,s=this.getStatsEventName(t);"TokenOverview"===this.$route.name?p.Z.sendStatsEvent(p.Z.types.CLICK,s,{coin:e,network:this.$store.getters.getNetworkName(this.chain)}):p.Z.sendStatsEvent(p.Z.types.CLICK,s)},getStatsEventName(t){return"Overview"===this.$route.name?`wt_${t}_btn`:"Assets"===this.$route.name?`wt_asset_${t}`:"TokenOverview"===this.$route.name?`wt_coin_${t}`:void 0}}},k=w,b=(0,d.Z)(k,n,i,!1,null,"6437c64d",null),v=b.exports},92170:function(t,e,s){s.d(e,{Z:function(){return u}});var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fixed right-6 cursor-pointer w-14 h-14 bg-dark-N16 rounded-full backdrop-blur-2xl transition-opacity",style:{opacity:t.showBackToTopOpacity,bottom:t.showBackToTopBottom+"px"},on:{click:function(e){return e.stopPropagation(),t.scrollToTop.apply(null,arguments)}}},[n("img",{staticClass:"mx-auto",style:{marginTop:"23px"},attrs:{src:s(80779)}})])},i=[];const a=22,r=56,o=window.innerHeight;var l={name:"BackToTop",props:{scrollable:{type:String,default:""}},data(){return{showBackToTopOpacity:0,showBackToTopBottom:-r}},computed:{scrollableEl(){return this.$parent.$refs[this.scrollable]}},mounted(){this.scrollableEl.addEventListener("scroll",this.onScroll)},beforeUnmount(){this.scrollableEl.removeEventListener("scroll",this.onScroll)},methods:{onScroll(t){const e=o,s=t.target.scrollTop,n=s-e;if(n>0){this.showBackToTopOpacity=1;let t=-r+n;t>a&&(t=a),this.showBackToTopBottom=t}else this.showBackToTopOpacity=0},scrollToTop(){this.scrollableEl.scrollTo(0,0)}}},c=l,d=s(1001),h=(0,d.Z)(c,n,i,!1,null,null,null),u=h.exports},74038:function(t,e,s){s.d(e,{Z:function(){return g}});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"deck"},[s("div",{staticClass:"flex flex-wrap flex-row-reverse justify-end flex-nowrap overflow-visible cursor-pointer",style:{paddingLeft:t.cardFoldPx+"px"}},[t.deckMore?s("div",{staticClass:"relative rounded-xl overflow-hidden inline-block bg-opacity-10 text-center font-semibold align-middle pl-1",class:t.cardMoreClasses,style:{fontSize:t.deckMoreFontSizePx+"px",height:t.cardHeightPx+"px",lineHeight:t.cardHeightPx+"px",marginLeft:"-"+t.cardMoreFoldPx+"px",width:t.cardMoreWidthPx+"px"},on:{click:function(e){return t.openMore(e)}}},[t.stillLoadingCount>0?s("lottie-component",{staticClass:"absolute",style:{left:0,top:0,height:t.cardHeightPx+"px"},attrs:{src:"loader_nft_more.json"}}):t._e(),s("span",{class:[t.cardMoreFoldPx<=33.5?"ml-5":"ml-3.5"]},[t._v(t._s(t.deckMoreFriendly))])],1):t._e(),s("div",{style:{width:t.unusedSpacePx+"px"}}),t._l(t.deckCards,(function(e,n){return s("div",{key:n,staticClass:"justify-self-end cursor-pointer",class:{"h-32":t.isHovering===n},style:{width:t.cardWidthPx+"px",height:t.cardHeightPx+"px",marginLeft:"-"+t.cardFoldPx+"px",marginRight:(0!==n&&t.cardGapPx||0)+"px",zIndex:t.isHovering===n?1:0},attrs:{title:e._title},on:{mouseover:function(e){t.isHovering=n},mouseout:function(e){t.isHovering=-1},click:function(s){return t.openCard(s,e)}}},[s("lazy-image",{staticClass:"inline-block bg-input-bg rounded-xl overflow-hidden bg-center object-cover",class:"Overview"===t.$route.name?"bg-opacity-50":"bg-opacity-100",style:{transition:"transform 0.1s",transform:t.isHovering===n?"scale(1.1) translateY(-16px)":"",filter:"drop-shadow(4px 4px 8px rgba(0, 0, 0, 0.25))",boxShadow:"1px 4px 4px 0px rgba(0, 0, 0, 0.25)",width:t.cardWidthPx+"px",height:t.cardHeightPx+"px"},attrs:{placeholder:t.placeholder,src:e._image}})],1)}))],2)])},i=[],a=s(97459),r=s(4634),o=s(71671);const l=8,c=80;var d={components:{LazyImage:a.Z,LottieComponent:o.Z},props:{stillLoadingCount:{type:Number,default:0},cardHeightPx:{type:Number,default:c},cardMoreClasses:{type:Array,default:()=>["bg-input-bg","text-dark-N12","font-medium"]},cardMoreFoldPx:{type:Number,default:33.5},cards:{type:Array,default:()=>[]},layouts:{type:Array,default:()=>{const[t,e,s]=[-2,-21.5,-33.5],n=[c,s],i=[c,e],a=[c,t],r=[c,l];return[n,i,a,r]}},propagateClick:{type:Boolean,default:!1}},data(){return{DECK_MORE_SAFE_NUMBER:10049,cardFoldPx:0,cardGapPx:l,cardMoreWidthPx:c,cardWidthPx:c,deckLimit:null,deckWidthPx:0,isHovering:-1,placeholder:s(29738),unusedSpacePx:0}},computed:{deckCards(){const t=this.cards,e=t.slice(0,this.getBestDeckLimit());return e},deckCardsLength(){return this.deckCards.length},deckMore(){return this.cards.length-this.deckCardsLength},deckMoreFriendly(){return`+${r.ZP.longNumberToFriendlyFormat(this.deckMore,1)}`},deckMoreFontSizePx(){return this.deckMore<=this.DECK_MORE_SAFE_NUMBER?16:12}},mounted(){const t=this.$refs.deck;this.resizeObserver=new ResizeObserver(this.onResize.bind(this)),this.resizeObserver.observe(t),this.onResize()},beforeDestroy(){this.resizeObserver.disconnect()},methods:{getDeckLimit(t,e=0,s=0){const n={},i=this.cards.length,a=this.deckWidthPx,r=this.cardMoreWidthPx,o=this.cardMoreFoldPx,l=a+e-s,c=t+e,d=Math.floor(l/c),h=Math.min(d,i),u=h*c-e;if(d<i&&!s)return this.getDeckLimit(t,e,r-o);const p=i-h,g=a-u-s;return Object.assign(n,{deckWidthPx:a,cardsWidthPx:u,cardShiftPx:e,_availableSpacePx:l,unusedSpacePx:g,cardWidthPx:t,moreWidthPx:s,cardsUsed:h,maxCardsCount:d,moreCount:p}),this.deckLimit=n,n},getBestDeckLimit(){const t=this.layouts,e=t.map((t=>this.getDeckLimit.apply(null,t)));e.sort(((t,e)=>t.moreCount-e.moreCount||t.unusedSpacePx-e.unusedSpacePx));const s=e[0];return this.cardWidthPx=s.cardWidthPx,s.cardShiftPx<0?(this.cardFoldPx=-s.cardShiftPx,this.cardGapPx=0):(this.cardFoldPx=0,this.cardGapPx=s.cardShiftPx),this.unusedSpacePx=s.unusedSpacePx,s.maxCardsCount},onResize(){const t=this.$refs?.deck?.clientWidth;this.deckWidthPx=t},openCard(t,e){this.propagateClick||t.stopPropagation(),this.isHovering=-1,this.$emit("openCard",e)},openMore(t){this.propagateClick||t.stopPropagation(),this.$emit("openMore")}}},h=d,u=s(1001),p=(0,u.Z)(h,n,i,!1,null,null,null),g=p.exports},97459:function(t,e,s){s.d(e,{Z:function(){return d}});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("figure",{ref:"lazyImage",staticClass:"t-lazy_image"},[t.loading?s("spinning-loader",{staticClass:"h-full"}):t._e()],1)},i=[],a=s(93272),r={components:{SpinningLoader:a.Z},props:{placeholder:{type:String,default:""},src:{type:String,default:""}},data(){return{loading:!1}},mounted(){this.loadImage()},methods:{loadImage(){this.loading=!0;const t=new Image;t.classList.add("w-full"),t.classList.add("h-full"),t.style.borderRadius="inherit",t.style.objectFit="inherit",t.alt="",t.complete&&this.$nextTick((()=>{t.src=this.src,this.loading=!1})),t.onerror=()=>{this.$nextTick((()=>{t.src=this.placeholder,this.loading=!1}))},this.$refs.lazyImage.appendChild(t)}}},o=r,l=s(1001),c=(0,l.Z)(o,n,i,!1,null,null,null),d=c.exports},98484:function(t,e,s){s.r(e),s.d(e,{default:function(){return Ct}});var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{key:t.timesViewUpdated,ref:"container",staticClass:"bg-overview-background bg-cover bg-no-repeat h-full",style:{overflowX:"hidden",backgroundPosition:"65%"}},[n("div",{staticClass:"px-12 py-4"},[n("div",{staticClass:"flex flex-row"},[n("h1",{staticClass:"flex-grow my-7 ml-3.5 text-3xl font-bold tracking-wider text-left t-overview_toolbar-wallet_name"},[t._v(" Opera Wallet ")]),n("a",{staticClass:"mt-8 mr-6 t-overview_toolbar-settings cursor-pointer",on:{click:t.goToSettings}},[n("img",{staticClass:"h-6 w-6 t-overview_toolbar-settings",attrs:{src:s(23816)}})])]),t.token?n("asset-action-row",{attrs:{address:t.address,token:t.token}}):t._e(),n("center",{staticClass:"relative mb-6"},[n("div",{staticClass:"m-12"}),n("assets-burger"),n("div",{staticClass:"m-8"}),n("nfts-burger")],1),n("overview-transactions"),t.isOnMainnet?n("watchlist-widget",{ref:"watchlist"}):t._e()],1),t.showNews?n("div",{staticClass:"px-8"},[n("crypto-news")],1):t._e(),n("back-to-top",{attrs:{scrollable:"container"}})],1)},i=[],a=(s(84633),s(57658),s(71615)),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("patty-burger",{attrs:{title:t.$t("general.assets"),"show-arrow":!0,"test-parent-name":"assets_burger"},on:{click:t.openAssets}},[n("div",[t.hasNoAssets?n("div",{staticClass:"text-left text-accent-dark font-bold mb-1 t-assets_burger-no_assets"},[n("span",{staticClass:"text-left"},[t._v(t._s(t.$t("general.youDontOwnAnyAssets")))])]):t._e(),n("div",{staticClass:"text-left tracking-widest font-semibold text-white truncate t-assets-balance",class:{"text-5xl":t.balanceFriendlyLength<=6,"text-4xl":t.balanceFriendlyLength>6&&t.balanceFriendlyLength<=12,"text-3xl":t.balanceFriendlyLength>12&&t.balanceFriendlyLength<=18,"text-2xl":t.balanceFriendlyLength>24},style:{textShadow:"2px 2px 2px rgba(0, 0, 0, 0.2)"}},[t._v(" "+t._s(t.balanceFriendly)+" ")])]),t.ownedTokens.length?n("tokens-kan",{attrs:{tokens:t.ownedTokens},on:{openToken:t.openToken,openMore:t.openAssets}}):t._e(),t.ownedTokens.length?t._e():n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-1 grow"}),n("img",{staticClass:"-mt-6 mb-0.5 h-18",attrs:{src:s(39009)}})])],1)},o=[],l=s(70794),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"relative rounded-3xl py-2.5 px-8.5 bg-accent",class:{"cursor-pointer":t.showArrow},on:{click:function(e){t.showArrow&&t.$emit("click")}}},[s("div",{staticClass:"text-dark-N16 font-bold text-2xl my-3 text-left",class:[{"cursor-pointer":t.showArrow},"t-burger-"+t.testParentName],on:{click:function(e){e.stopPropagation(),t.showArrow&&t.$emit("click")}}},[t._v(" "+t._s(t.title)+" ")]),t.showArrow?s("div",{staticClass:"absolute right-8 top-6 icon-arrow_right text-black",class:["t-burger_arrow-"+t.testParentName],on:{click:function(e){return e.stopPropagation(),t.$emit("click")}}}):t._e(),t._t("default")],2)},d=[],h={props:{showArrow:{type:Boolean,default:!1},title:{type:String,default:void 0},testParentName:{type:String,default:void 0}}},u=h,p=s(1001),g=(0,p.Z)(u,c,d,!1,null,null,null),m=g.exports,f=s(56258),w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"tokensDeck",staticClass:"relative flex flex-row mt-4.5 mb-5 cursor-pointer",class:{"justify-between":!!t.ownedTokensDeckMore},staticStyle:{gap:"7px"}},[t.ownedTokensDeckMore?t._e():s("div",{staticClass:"flex-1 grow"}),t._l(t.ownedTokensDeckCoins,(function(e,n){return s("div",{key:n,staticClass:"w-7.5 h-7.5",attrs:{title:e._title},on:{mouseover:function(e){-1===t.isHovering&&(t.isHovering=n)},mouseout:function(e){t.isHovering===n&&(t.isHovering=-1)},click:function(s){return s.stopPropagation(),t.openToken(e)}}},[s("token-icon",{staticClass:"w-7.5 h-7.5",style:{transition:"all 0.2s",transform:t.isHovering===n?"scale(1.18)":""},attrs:{address:e.contract.contract.toLowerCase(),chain:e.chain,type:e.contract.type}})],1)})),t.ownedTokensDeckMore?s("div",{staticClass:"hidden flex-1 grow"}):t._e(),t.ownedTokensDeckMore?s("div",{ref:"moreButton",staticClass:"flex items-center justify-center rounded-full bg-input-bg bg-opacity-10 h-7.5 text-sm font-semibold text-dark-N12 text-center",style:{width:t.ownedTokensDeckMoreWidth+"px"},on:{click:function(e){return e.stopPropagation(),t.openMore.apply(null,arguments)}}},[s("div",{staticClass:"min-w-7"},[t._v(" "+t._s(t.ownedTokensDeckMoreFriendly)+" ")])]):t._e()],2)},k=[],b=s(53106),v=s(4634),x={components:{TokenIcon:b.Z},props:{tokens:{type:Array,default:()=>[]}},data(){return{isHovering:-1,tokensDeckMore:0,tokensDeckWidth:0}},computed:{ownedTokensDeckCoins(){const t=this.tokens.slice(0,this.getTokensDeckLimit());return t},ownedTokensDeckCoinsLength(){return this.ownedTokensDeckCoins.length},ownedTokensDeckMore(){return this.tokens.length-this.ownedTokensDeckCoinsLength},ownedTokensDeckMoreFriendly(){return`+${v.ZP.longNumberToFriendlyFormat(this.ownedTokensDeckMore,1)}`},ownedTokensDeckMoreWidth(){const[t,e,s]=[44,49,58];return this.ownedTokensDeckMore<=9?t:this.ownedTokensDeckMore<=99?e:s}},mounted(){const t=this.$refs.tokensDeck;this.resizeObserver=new ResizeObserver(this.onResize.bind(this)),this.resizeObserver.observe(t),this.onResize()},beforeDestroy(){this.resizeObserver.disconnect()},methods:{getTokensDeckLimit(){const t=7,e=30,s=this.tokensDeckMore&&this.$refs?.moreButton?.clientWidth||0;let n=this.tokensDeckWidth+t,i=Math.floor(n/(e+t));return i<this.tokens.length?(n=this.tokensDeckWidth-s,i=Math.floor(n/(e+t)),this.tokensDeckMore=this.tokens.length-i):this.tokensDeckMore=0,i},onResize(){const t=this.$refs?.tokensDeck?.clientWidth;this.tokensDeckWidth=t},openMore(){this.$emit("openMore")},openToken(t){this.isHovering=-1,this.$emit("openToken",t)}}},y=x,_=(0,p.Z)(y,w,k,!1,null,null,null),T=_.exports,C=s(98180),$={components:{PattyBurger:m,TokensKan:T},computed:{balance(){return this.$store.getters.accountBalance},balanceFriendly(){return this.$store.getters.accountBalanceFriendly},balanceFriendlyLength(){return String(this.balanceFriendly).length},hasNoAssets(){return this.balance.isZero()&&!this.$store.getters.erc20Tokens.length},ownedTokens(){const t=this.$store.getters.ownedTokens.filter((t=>(0,l.Z)(t.balance??0).isGreaterThan(0))).map((t=>{const e=Object.assign({},t,{_title:`${v.ZP.formatNumber(C.Z.tokenDecimal(t))} ${t.contract.symbol}`});return e}));return this.$store.getters.tokenListAdjustedToSettings(t)},tokensLoading(){return this.$store.getters.isLoading("tokens")}},methods:{openAssets(){f.Z.sendStatsEvent(f.Z.types.CLICK,"wt_asset_btn"),this.$router.push("assets")},openToken(t){f.Z.sendStatsEvent(f.Z.types.CLICK,"wt_asset_btn"),this.$router.push({name:"TokenOverview",query:{symbol:t.contract.symbol,address:t.contract.contract,chain:JSON.stringify(t.chain)}})}}},S=$,P=(0,p.Z)(S,r,o,!1,null,null,null),A=P.exports,L=s(92170),Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",{staticClass:"mt-2 px-8 mb-6 font-bold text-2xl tracking-wider -ml-0.5"},[t._v(" "+t._s(t.$t("general.news"))+" ")]),s("iframe",{ref:"news",staticClass:"w-full",style:{height:t.height+"px"},attrs:{id:"CryptoCorner",scrolling:"no",src:t.url}})])},D=[],M={data(){return{height:0}},computed:{url(){return"https://m.crypto-corner.opera.com/?origin=iframe"}},created(){window.addEventListener("message",this.updateHeight.bind(this))},methods:{updateHeight(t){if(t.origin===new URL(this.url).origin&&"iframeheght"===t.data.code){const e=parseInt(t.data.text,10);this.height=e}}}},N=M,E=(0,p.Z)(N,Z,D,!1,null,null,null),F=E.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("patty-burger",{attrs:{title:t.$t("general.collectibles"),"show-arrow":!0,"test-parent-name":"nfts_burger"},on:{click:t.openNfts}},[t.cards&&t.cards.length?n("cards-deck",{staticClass:"my-5",attrs:{cards:t.cards,"still-loading-count":t.nftsLoading?1:0},on:{openCard:t.openNft,openMore:t.openNfts}}):n("div",{staticClass:"algin-right mt-4 mb-6"},[n("div",{staticClass:"text-left text-accent-dark font-bold"},[t.nftsLoading?n("div",{staticClass:"flex justify-center"},[n("lottie-component",{staticClass:"-mt-10 -mb-28 h-44",attrs:{src:"loader_nft.json"}})],1):n("div",{staticClass:"text-left t-nfts_burger-no_nfts"},[t._v(" "+t._s(t.$t("general.youDontOwnAnyCollectibles"))+" ")])]),n("div",{staticClass:"flex h-14"},[n("div",{staticClass:"flex-1 grow"}),t.nftsLoading?t._e():n("img",{staticClass:"h-20 -my-0.5",attrs:{src:s(84814)}})])])],1)},B=[],W=s(74038),H=s(71671),z={components:{CardsDeck:W.Z,LottieComponent:H.Z,PattyBurger:m},computed:{nftsLoading(){return this.$store.getters.isLoading("nfts")},cards(){const t=this.$store.getters.allNfts,e=t.map((t=>{const e=Object.assign({},t,{_image:t.image_url||t.image});return t.collectibles?.length>1?Object.assign(e,{_title:`${t.name} (${t.collectibles.length})`}):Object.assign(e,{_title:`${t.name}`}),e}));return e}},methods:{openNfts(){f.Z.sendStatsEvent(f.Z.types.CLICK,"wt_nft_btn"),this.$router.push({name:"CollectionsView"})},openNft(t){f.Z.sendStatsEvent(f.Z.types.CLICK,"wt_nft_btn"),t.collectibles?this.$router.push({name:"CollectionView",params:{collection:t}}):this.$router.push({name:"CollectibleView",params:{collectible:t,collection:t.collection}})}}},R=z,G=(0,p.Z)(R,O,B,!1,null,null,null),I=G.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{key:t.timesTransactionsUpdated,style:{transition:t.transactionsLoading?"":"height 0.2s ease-in",height:t.calculateHeight+"px",overflow:"hidden"}},[s("div",{staticClass:"w-full relative"},[s("TransitionGroup",{attrs:{tag:"div",name:t.transactionsLoading?"":"fade"}},t._l(t.itemsList,(function(e,n){return s("div",{key:t.getKey(e,n),staticClass:"overflow-hidden w-full"},["loader"===e.type?s("div",[s("div",{staticClass:"my-1.5 rounded-lg p-4 bg-dark-N16"},[s("div",{staticClass:"h-6"},[s("lottie-component",{staticClass:"h-6",attrs:{src:"loader_tx.json"}})],1)])]):"more"===e.type?s("div",[s("div",{staticClass:"my-1.5 rounded-lg bg-dark-N16 p-4"},[s("a",{staticClass:"relative t-overview-show_notifications",attrs:{role:"button",tabindex:"0"},on:{click:function(e){return t.$router.push("notifications")}}},[s("div",{staticClass:"font-bold text-white tracking-wide text-dark-N77 text-center text-sm leading-6"},[t._v(" "+t._s(t.allTransactionsText)+" ")]),s("div",{staticClass:"absolute right-0 top-0"},[s("div",{staticClass:"right-8 top-6 icon-arrow_right text-dark-N77"})])])])]):s("div",[s("div",{staticClass:"-my-1.5"},[s("activity-item",{attrs:{activity:e}})],1)])])})),0)],1)])},q=[],K=s(91022),U=s(74597);const V=2,J=84,X=68;var Y={name:"OverviewTransactions",components:{ActivityItem:K.Z,LottieComponent:H.Z},data(){return{timesTransactionsUpdated:0}},computed:{allTransactionsText(){return U.Z.capitalizeAllWords(this.$t("components.overviewTransactions.allTransactions"))},calculateHeight(){const t=this.itemsList;let e=0;t.length&&(e+=18);for(const s of t)"more"===s.type||"loader"===s.type?e+=X:e+=J;return e},hasPendingTransactions(){return this.$store.getters.getPendingTransactions.length},transactionsLoading(){return!this.hasPendingTransactions&&this.$store.getters.isLoading("transactions")},latestTransactions(){const t=this.$store.getters.latestTransactions;return t},itemsList(){const t=[];return this.transactionsLoading?(t.push(...this.latestTransactions.slice(0,2)),t.push({type:"loader",hash:"_footer"})):(t.push(...this.latestTransactions),t.length>0&&(t.splice(V),t.push({type:"more",hash:"_footer"}))),t}},watch:{hasPendingTransactions(){this.timesTransactionsUpdated+=1}},async created(){await this.$store.dispatch("getAllTransactions")},async activated(){await this.$store.dispatch("clearExpiredApproval"),this.clearExpiredTransactions()},methods:{clearExpiredTransactions(){this.latestTransactions.every((t=>"pending"!==t.status))&&this.$store.dispatch("clearPendingTransactions")},getKey(t,e){return`el_${e}-${t.hash}`}}},Q=Y,tt=(0,p.Z)(Q,j,q,!1,null,"4cda76bc",null),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"mb-6 mx-4 flex items-baseline justify-between font-bold"},[s("h1",{staticClass:"text-2xl tracking-wider -ml-0.5 t-watchlist_title"},[t._v(" "+t._s(t.$t("general.watchlist"))+" ")]),t.watchlist.length?s("a",{staticClass:"t-watchlist_widget-edit text-sm font-bold text-accent cursor-pointer",on:{click:function(e){return t.$router.push({name:"WatchListSettings"})}}},[t._v(" "+t._s(t.$t("general.edit"))+" ")]):t._e()]),t.watchlist.length?s("transition-group",{staticClass:"my-4 pb-4 flex flex-row space-x-4 rtl-space-x-reverse overflow-x-auto t-watchlist",attrs:{name:"item-transition",tag:"div",appear:""}},t._l(t.watchlist,(function(t,e){return s("watchlist-card",{key:t.symbol,style:{"--i":e},attrs:{token:t}})})),1):s("div",{staticClass:"t-watchlist_widget-settings px-5 py-7 rounded-2.5xl flex bg-dark-N16 items-center cursor-pointer",on:{click:function(e){return t.$router.push({name:"WatchListSettings"})}}},[s("lottie-component",{staticClass:"w-14 h-14",attrs:{src:"empty_watchlist_placeholder.json"}}),s("div",{staticClass:"flex-1 ms-5"},[s("div",{staticClass:"text-white text-sm font-bold mb-1"},[t._v(" "+t._s(t.$t("components.watchlistWidget.watchlistEmpty"))+" ")]),s("div",{staticClass:"text-sm text-dark-N77"},[t._v(" "+t._s(t.$t("components.watchlistWidget.startBuildingWatchlist"))+" ")])])],1)],1)},nt=[],it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"t-watchlist_card-click flex-shrink-0 p-4 bg-white bg-opacity-5 rounded-xl min-w-min w-32 cursor-pointer",on:{click:function(e){return t.onClick(t.token)}}},[s("div",{staticClass:"flex items-center mb-3"},[s("token-icon",{staticClass:"h-6 w-6",attrs:{address:t.token.address.toLowerCase(),chain:t.chain}}),s("span",{staticClass:"ms-2 text-md font-bold text-white"},[t._v(t._s(t.token.symbol))])],1),s("div",{staticClass:"text-md font-light text-white",class:{"-mx-2":String(t.rate).length>12}},[t._v(" "+t._s(t.rate)+" ")]),t.chartData&&t.chartData.length?s("div",{staticClass:"mb-2"},[s("i",{class:"icon-"+(t.incremental>=0?"triangle-up":"triangle-down")+" mr-2",style:{fontSize:"0.5rem",color:t.incremental>=0?"#3DF28E":"#FF5F68"}}),s("span",{staticClass:"text-sm font-semibold"},[t._v(t._s(t.priceChangePercentage))])]):t._e(),t.chartData&&t.chartData.length?s("trend-graph",{staticClass:"-mx-4",attrs:{"data-source":t.chartData,index:t.token.symbol,width:128,height:52}}):t._e()],1)},at=[],rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("canvas",{ref:"canvasRef",attrs:{id:"canvas-"+t.index,width:t.width,height:t.height}})])},ot=[];const lt=(t,e)=>{const s=parseInt("0x"+t.slice(1,3)),n=parseInt("0x"+t.slice(3,5)),i=parseInt("0x"+t.slice(5,7));return`rgba(${s}, ${n}, ${i}, ${e})`};var ct={name:"TrendGraph",props:{index:{type:[Number,String],default:0},width:{type:[Number,String],default:128},height:{type:[Number,String],default:48},dataSource:{type:Array,default:()=>[]}},mounted(){const t=this.createCanvas(this.$refs.canvasRef,this.width,this.height);t&&this.initCanvas(t)},methods:{createCanvas(t,e,s){const n=window.devicePixelRatio||1,i=t.getContext("2d");return t.width=Number(e)*n,t.height=Number(s)*n,t.style.width=`${e}px`,t.style.height=`${s}px`,i&&(i.translate(0,t.height),i.scale(n,-n)),i},drawCurve(t,e=!0){const s=this.dataSource,n=Math.min(...s),i=Math.max(...s),a=Number(this.width)/(s.length-1),r=Number(this.height)/(i-n);s.forEach(((i,o)=>{const l=a*o,c=(Number(i)-n)*r;if(o<s.length-1){const i=a*(o+1),d=(Number(s[o+1])-n)*r,h=this.getMidPos([l,c],[i,d]);if(0===o&&(t.beginPath(),e?t.moveTo(l,c):t.moveTo(0,0),!e&&t.lineTo(l,c),t.lineTo(...h),e&&t.stroke()),o<s.length-2){const l=a*(o+2),c=(Number(s[o+2])-n)*r,u=this.getMidPos([i,d],[l,c]);e&&(t.beginPath(),t.moveTo(...h)),t.quadraticCurveTo(i,d,...u),e&&t.stroke(),o===s.length-3&&(e&&t.beginPath(),t.moveTo(...u),t.lineTo(l,c),e?t.stroke():(t.lineTo(l,0),t.lineTo(0,0)))}}}))},initCanvas(t){const e=this.color(this.dataSource);t.strokeStyle=e,this.drawCurve(t),this.drawShadow(t,e)},drawShadow(t,e){this.drawCurve(t,!1);const s=t.createLinearGradient(50,0,50,200);s.addColorStop(0,lt(e,0)),s.addColorStop(1,e),t.fillStyle=s,t.fill()},getMidPos(t,e){const s=(t[0]+e[0])/2,n=(t[1]+e[1])/2;return[s,n]},color(t){return t.length<2?"#FFF":t[t.length-1]-t[0]>=0?"#3DF28E":"#FF5F68"}}},dt=ct,ht=(0,p.Z)(dt,rt,ot,!1,null,null,null),ut=ht.exports,pt=s(17786),gt={name:"WatchlistCard",components:{TokenIcon:b.Z,TrendGraph:ut},props:{token:{type:Object,default:void 0}},data(){return{chartData:[]}},computed:{chain(){return this.token?.chain},rate(){let t=this.$store.getters.getPriceForToken(this.token);return t||(t=0),v.ZP.localizeCurrency(t)},priceChangePercentage(){const t=this.incremental/this.chartData[0]*100;return v.ZP.localizePercentage(t)},isTokenSupported(){const t=this.$store.getters.allSupportedTokens;return this.$store.getters.getToken(this.token.address,this.chain,t)},incremental(){const t=this.chartData,e=t.length;return e>0?t[e-1]-t[0]:0}},created(){this.DATA_LENGTH_H=168,this.fetchData()},methods:{onClick(t){const e=this.isTokenSupported;e?this.$router.push({name:"TokenOverview",query:{symbol:t.symbol,address:t.address,chain:JSON.stringify(t.chain)}}):this.$router.push({name:"WatchlistDetails",query:{name:t.name,symbol:t.symbol,address:t.address}})},async fetchData(){const t=await pt.Z.getHistorical(this.token.symbol,this.DATA_LENGTH_H,"1h");t&&t.data&&Array.isArray(t.data.data)&&(this.chartData=t.data.data.sort(((t,e)=>t.time-e.time)).map((t=>t.price)))}}},mt=gt,ft=(0,p.Z)(mt,it,at,!1,null,null,null),wt=ft.exports,kt={components:{WatchlistCard:wt,LottieComponent:H.Z},computed:{watchlist(){return this.$store.getters.watchlist}}},bt=kt,vt=(0,p.Z)(bt,st,nt,!1,null,"1e28264e",null),xt=vt.exports,yt={name:"OverviewDashboard",components:{AssetActionRow:a.Z,AssetsBurger:A,BackToTop:L.Z,CryptoNews:F,NftsBurger:I,OverviewTransactions:et,WatchlistWidget:xt},beforeRouteEnter(t,e,s){s((t=>{t.$store.dispatch("setOnboardingOngoing",!1)}))},beforeRouteLeave(t,e,s){Object.assign(this.$scrollKeeper,{"overview-watchlist-scroll":this.$el.querySelector(".t-watchlist")?.scrollLeft||0,"overview-container-scroll":this.$refs.container.scrollTop}),s()},data(){return{scroll:0,showNews:!1,timesViewUpdated:0}},computed:{accountsByCoinType(){return this.$store.getters.accountsByCoinType},address(){return this.$store.getters.ownedTokens[0].contract.contract},allNfts(){return this.$store.getters.allNfts},isLoadingTokens(){return this.$store.getters.isLoading("tokens")},isOnMainnet(){return this.$store.getters.isOnMainnet},token(){return this.$store.getters.ownedTokens[0]}},watch:{accountsByCoinType:{deep:!0,handler(){this.timesViewUpdated+=1}}},async created(){f.Z.sendStatsEvent(f.Z.types.IMPRESSION,"wt_front_page")},async activated(){this.isLoadingTokens||this.$store.getters.isLoadedForAllEnabledChains("tokens")||(await this.$store.dispatch("getAllTokens"),await this.$store.dispatch("getAllTokenPrices")),this.$store.getters.getTimesLoaded("swappableTokens")||await this.$store.dispatch("getSwappableTokens"),this.allNfts.length||await this.$store.dispatch("getAllNfts"),setImmediate((()=>{this.$refs.container.scrollTop=this.$scrollKeeper["overview-container-scroll"]||0;const t=this.$el.querySelector(".t-watchlist");t&&(t.scrollLeft=this.$scrollKeeper["overview-watchlist-scroll"]||0)}))},methods:{goToSettings(){this.$router.push("settings")}}},_t=yt,Tt=(0,p.Z)(_t,n,i,!1,null,null,null),Ct=Tt.exports},29738:function(t,e,s){t.exports=s.p+"img/collectible_placeholder.90e43ae1.svg"},39009:function(t,e,s){t.exports=s.p+"img/empty_assets.53df49da.svg"},84814:function(t,e,s){t.exports=s.p+"img/empty_nfts.7a03de26.svg"},80779:function(t,e,s){t.exports=s.p+"img/chevron_up.dbe760c6.svg"},23816:function(t,e,s){t.exports=s.p+"img/cog.a942bc08.svg"}}]);