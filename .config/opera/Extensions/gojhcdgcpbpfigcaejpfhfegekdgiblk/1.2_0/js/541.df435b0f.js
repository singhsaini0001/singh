"use strict";(self["webpackChunkdesktop_wallet"]=self["webpackChunkdesktop_wallet"]||[]).push([[541],{56808:function(t,e,s){s.d(e,{Z:function(){return b}});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.activities.length?s("smart-list-container",{attrs:{"base-list-element-height-px":t.activityItemHeightPx,"number-of-elements":t.activities.length,"reserved-height-px":t.reservedHeightPx.get(t.routeName)||0}},t._l(t.activities,(function(t,e){return s("activity-item",{key:e,staticClass:"first:mt-0 last:mb-0",attrs:{activity:t}})})),1):s("div",{staticClass:"flex items-center flex-col"},[s("lottie-component",{staticClass:"mt-8 mb-4 w-20 h-20",attrs:{src:"empty_activity_placeholder.json"}}),s("div",{staticClass:"text-center text-dark-N77"},[t._v(t._s(t.$t("general.noActivities")))])],1)],1)},i=[],a=s(20144),r=s(91022),o=s(71671),l=s(28428),c=a.Z.extend({components:{ActivityItem:r.Z,LottieComponent:o.Z,SmartListContainer:l.Z},props:{activities:{type:Array,default:()=>[]}},data(){return{activityItemHeightPx:84,reservedHeightPx:new Map([["Assets",440],["TokenOverview",510]])}},computed:{routeName(){return this.$route.name}}}),h=c,d=s(1001),u=(0,d.Z)(h,n,i,!1,null,null,null),b=u.exports},71615:function(t,e,s){s.d(e,{Z:function(){return f}});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-6 mb-8 flex rtl-space-x-reverse"},[s("squircle-button",{staticClass:"t-asset_action_row-receive w-1/5",attrs:{disabled:!t.isAssetReceivable&&!t.allowGeneralActions,text:t.$t("general.receive"),icon:"icon-arrow_down"},on:{click:t.goToReceive}}),s("squircle-button",{staticClass:"t-asset_action_row-send w-1/5",attrs:{disabled:!t.isAssetSendable&&!t.allowGeneralActions||!t.hasSendableAssets,text:t.$t("general.send"),icon:"icon-arrow_right_up"},on:{click:t.goToSend}}),s("squircle-button",{staticClass:"t-asset_action_row-swap w-1/5",attrs:{disabled:!t.isAssetSwappable&&!t.allowGeneralActions||!t.hasSwappableAssets,loading:t.swapLoading,text:t.$t("general.swap"),icon:"icon-swap"},on:{click:t.goToSwap}}),s("squircle-button",{staticClass:"t-asset_action_row-buy w-1/5",attrs:{disabled:!t.isAssetBuyable&&!t.allowGeneralActions||!t.hasBuyableAssets,text:t.$t("general.buy"),icon:"icon-buy"},on:{click:t.goToBuy}}),s("squircle-button",{staticClass:"t-asset_action_row-sell w-1/5",attrs:{disabled:!t.isAssetSellable&&!t.allowGeneralActions||!t.hasSellableAssets,text:t.$t("general.sell"),icon:"icon-arrow_down",transform:"scale(1,-1)"},on:{click:t.goToSell}})],1)},i=[],a=(s(57658),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"t-squirce_button-click",class:["flex flex-col items-center",{"opacity-40":t.disabled&&!t.loading}],on:{click:function(e){!t.unavailable&&t.$emit("click")}}},[s("button",{class:["flex w-12 h-12 mb-2 bg-squircle-desktop bg-contain items-center justify-center",{"cursor-not-allowed":t.unavailable}]},[t.loading?s("spinning-loader",{staticClass:"w-5 mb-6"}):s("i",{staticClass:"text-black",class:t.icon,style:{transform:t.transform}})],1),s("span",{staticClass:"text-dark-N60 text-xs font-bold tracking-wide"},[t._v(t._s(t.text))])])}),r=[],o=s(93272),l={components:{SpinningLoader:o.Z},props:{disabled:{type:Boolean,default:!1},icon:{type:String,default:""},loading:{type:Boolean,default:!1},text:{type:String,default:""},transform:{type:String,default:""}},computed:{unavailable(){return this.disabled||this.loading}}},c=l,h=s(1001),d=(0,h.Z)(c,a,r,!1,null,null,null),u=d.exports,b=s(56258),m=s(39765),p=s(70794),g=s(35210),w={components:{SquircleButton:u},props:{address:{type:String,default:""},token:{type:Object,default:void 0}},computed:{allowGeneralActions(){return"TokenOverview"!==this.$route.name},chain(){return this.token.chain},ownsAsset(){return!!this.$store.getters.ownedTokens.find((t=>t.contract.contract===this.address))},isAssetReceivable(){return this.ownsAsset},isAssetSendable(){return this.ownsAsset&&(0,p.Z)(this.token.balance).isGreaterThan(0)},isAssetSwappable(){return this.swapAddress&&this.$store.getters.isTokenSwappable(this.swapAddress)&&this.$store.getters.isOnMainnet&&(0,p.Z)(this.token.balance).isGreaterThan(0)&&(0,g.cA)(this.token.chain)},isAssetBuyable(){return this.$store.getters.isBuyable(this.chain,this.address)},isAssetSellable(){return this.$store.getters.isSellable(this.chain,this.address)&&(0,p.Z)(this.token.balance).isGreaterThan(0)},isAssetTestnet(){return this.$store.getters.isTestnet(this.chain)},hasSendableAssets(){return this.$store.getters.ownedTokens.some((t=>(0,p.Z)(t.balance).isGreaterThan(0)))},hasSwappableAssets(){return!!this.$store.getters.swappableTokens.some((t=>(0,p.Z)(t.balance).isGreaterThan(0)))&&!this.isAssetTestnet},hasBuyableAssets(){return!!this.$store.getters.buyableTokens.length&&!this.isAssetTestnet},hasSellableAssets(){return!!this.$store.getters.sellableTokens.length&&!this.isAssetTestnet},swapAddress(){return this.address===m.L1?m.NA:this.address},swapLoading(){const t=this.$store.getters.swappableTokens,e=this.$store.getters.isLoading("tokens"),s=this.$store.getters.isLoading("swappableTokens"),n=s&&!t.length;return n||e&&!t.length}},methods:{goToReceive(){this.sendStats("receive"),this.$router.push({name:"ReceiveToken",params:{token:this.token}})},goToSend(){const t=this.isAssetSendable?this.token:this.$store.getters.ownedTokens.find((t=>(0,p.Z)(t.balance).isGreaterThan(0)));this.sendStats("send"),this.$router.push({name:"SendToken",params:{token:t}})},goToSwap(){const t=this.isAssetSwappable?this.token:this.$store.getters.swappableTokens.find((t=>(0,p.Z)(t.balance).isGreaterThan(0)));this.sendStats("swap"),this.$router.push({name:"Swap",query:{from:this.swapAddress,chain:JSON.stringify(t.chain)}})},goToBuy(){this.sendStats("buy"),this.$router.push({name:"Buy",params:{token:this.token}})},goToSell(){const t=this.isAssetSellable?this.token:this.$store.getters.sellableTokens[0];this.sendStats("sell"),this.$router.push({name:"Sell",params:{token:t}})},sendStats(t){const e=this.token.symbol??this.token.contract?.symbol,s=this.getStatsEventName(t);"TokenOverview"===this.$route.name?b.Z.sendStatsEvent(b.Z.types.CLICK,s,{coin:e,network:this.$store.getters.getNetworkName(this.chain)}):b.Z.sendStatsEvent(b.Z.types.CLICK,s)},getStatsEventName(t){return"Overview"===this.$route.name?`wt_${t}_btn`:"Assets"===this.$route.name?`wt_asset_${t}`:"TokenOverview"===this.$route.name?`wt_coin_${t}`:void 0}}},k=w,v=(0,h.Z)(k,n,i,!1,null,"6437c64d",null),f=v.exports},28428:function(t,e,s){s.d(e,{Z:function(){return h}});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"t-smart_list_container overflow-y-scroll pr-1.5",style:{height:t.containerHeightPx+"px"}},[t._t("default")],2)},i=[],a=s(20144),r=a.Z.extend({name:"SmartListContainer",props:{baseListElementHeightPx:{type:Number,required:!0},numberOfElements:{type:Number,required:!0},reservedHeightPx:{type:Number,required:!0}},data(){return{containerHeightPx:0}},watch:{numberOfElements(){this.containerHeightPx=this.getContainerHeightPx()}},created(){this.registerWindowResizeListener(),this.containerHeightPx=this.getContainerHeightPx()},beforeDestroy(){this.unregisterWindowResizeListener()},methods:{getContainerHeightPx(){const t=window.innerHeight,e=Math.max(t-this.reservedHeightPx,this.baseListElementHeightPx),s=this.baseListElementHeightPx*this.numberOfElements,n=Math.min(s,e);return n},registerWindowResizeListener(){window.addEventListener("resize",this.resizeContainer)},resizeContainer(){setTimeout((()=>{this.containerHeightPx=this.getContainerHeightPx()}))},unregisterWindowResizeListener(){window.removeEventListener("resize",this.resizeContainer)}}}),o=r,l=s(1001),c=(0,l.Z)(o,n,i,!1,null,null,null),h=c.exports},93959:function(t,e,s){s.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}]},[t._t("default")],2)},i=[],a={props:{title:{type:String,default:""}},data(){return{active:!1}}},r=a,o=s(1001),l=(0,o.Z)(r,n,i,!1,null,null,null),c=l.exports},35355:function(t,e,s){s.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.tabs.length>1?s("div",{staticClass:"mt-2 mb-6"},t._l(t.tabs,(function(e,n){var i;return s("button",{key:e.title,staticClass:"px-4 py-2 text-xs",class:(i={"bg-dark-N16 text-white font-semibold tracking-wider rounded-full":n===t.selected,"text-dark-N77 font-semibold tracking-wider rounded-full":n!==t.selected},i["t-tabs-tab_"+e.title+"_select"]=!0,i),on:{click:function(e){return t.selectTab(n)}}},[t._v(" "+t._s(e.title)+" ")])})),0):t._e(),t._t("default")],2)},i=[],a={name:"SwitchingTabs",data(){return{selected:0,tabs:[]}},created(){this.tabs=this.$children},mounted(){this.selectTab(0)},methods:{selectTab(t){this.selected=t,this.tabs.forEach(((e,s)=>{e.active=s===t})),this.$emit("selected",t)}}},r=a,o=s(1001),l=(0,o.Z)(r,n,i,!1,null,null,null),c=l.exports},22155:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[s("top-bar",{attrs:{title:t.name,dark:!0,"test-parent-name":"token_overview"}}),s("div",{staticClass:"flex mt-4 flex-col items-left px-14"},[s("token-icon",{staticClass:"h-10 w-10 rounded-full mt-4 mb-4",attrs:{chain:t.chain,address:t.address,type:t.type}}),s("div",{staticClass:"text-white font-semibold tracking-wide text-xl truncate w-full text-left"},[t._v(" "+t._s(t.balance)+" "+t._s(t.symbol)+" ")]),t.fiatBalance?s("div",{staticClass:"text-white text-lg font-light truncate w-full text-left"},[t._v(" ("+t._s(t.fiatBalance)+") ")]):t._e(),t.token?s("asset-action-row",{attrs:{address:t.address,token:t.token}}):t._e()],1)],1),s("div",{staticClass:"pb-6 px-14"},[s("switching-tabs",{on:{selected:t.tabSelected}},[t.tokenPriceInfo?s("switching-tab",{attrs:{title:t.$t("general.overview")}},[s("price-overview",{attrs:{"price-info":t.tokenPriceInfo,symbol:t.symbol.toLowerCase(),address:t.address}})],1):t._e(),s("switching-tab",{attrs:{title:t.$t("general.activity")}},[t.token?s("activity-box",{attrs:{activities:t.transactions}}):t._e()],1)],1)],1)])},i=[],a=(s(57658),s(56808)),r=s(71615),o=s(70794),l=s(8881),c=s(56258),h=s(93959),d=s(35355),u=s(53106),b=s(74293),m=s(4634),p=s(98180),g={name:"TokenOverview",components:{ActivityBox:a.Z,AssetActionRow:r.Z,PriceOverview:l.Z,SwitchingTab:h.Z,SwitchingTabs:d.Z,TokenIcon:u.Z,TopBar:b.Z},data(){return{balance:0,contract:null,fiatBalance:0,loading:!1,name:"",token:null}},computed:{address(){return this.$route.query.address.toLowerCase()},chain(){if(this.$route.query.chain)return JSON.parse(this.$route.query.chain)},symbol(){return this.$route.query.symbol},tokenPriceInfo(){if(this.token)return this.$store.getters.getPriceInfoForToken(this.token)},transactions(){return this.$store.getters.transactionsForToken(this.address,this.type)},type(){if(this.token)return this.token.type??this.token.contract?.type}},watch:{token(t){t&&this.assignTokenData()}},created(){this.getToken()},methods:{assignTokenData(){if(this.name=this.token.name??this.token.contract?.name,this.contract=this.token.address??this.token.contract?.contract,this.token&&this.token.balance&&(this.tokenPriceInfo&&(this.fiatBalance=m.ZP.localizeCurrency(p.Z.tokenDecimal(this.token).multipliedBy(new o.Z(this.tokenPriceInfo.price)))),this.token.balance)){const t=this.token.decimals??this.token.contract.decimals;this.balance=p.Z.withDecimals(this.token.balance,t)}},getToken(){if(!this.address||!this.chain)return;const t=this.$store.getters.ownedTokens;this.token=this.$store.getters.getToken(this.address,this.chain,t)},goToBuy(){c.Z.sendStatsEvent(c.Z.types.CLICK,"wt_coin_buy_bottom"),this.$router.push({name:"Buy",params:{token:this.token}})},goToSell(){this.$router.push({name:"Sell",params:{token:this.token}})},tabSelected(t){const[e,s]=[this.$store.getters.getNetworkName(this.chain),this.symbol];switch(t){case 0:c.Z.sendStatsEvent(c.Z.types.CLICK,"wt_coin_overTab",{coin:s,network:e});break;case 1:c.Z.sendStatsEvent(c.Z.types.CLICK,"wt_coin_actTab",{coin:s,network:e});break}}}},w=g,k=s(1001),v=(0,k.Z)(w,n,i,!1,null,null,null),f=v.exports}}]);