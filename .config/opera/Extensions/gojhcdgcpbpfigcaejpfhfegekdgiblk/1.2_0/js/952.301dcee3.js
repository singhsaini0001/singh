"use strict";(self["webpackChunkdesktop_wallet"]=self["webpackChunkdesktop_wallet"]||[]).push([[952],{54907:function(t,e,s){s.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showing,expression:"showing"}],staticClass:"fixed top-0 bottom-0 left-0 right-0 bg-black bg-opacity-40 flex items-center justify-center z-10"},[i("div",{staticClass:"mx-10 my-10 py-7 px-10 rounded-lg bg-modal w-full flex flex-col items-center max-w-screen-sm"},["success"===t.icon?i("img",{staticClass:"w-14 h-14 mb-6",attrs:{src:s(54398)}}):t._e(),t.title?i("div",{staticClass:"mb-4 text-xl font-bold"},[t._v(t._s(t.title))]):t._e(),t.message?i("div",{staticClass:"mb-6 text-center leading-5 text-dark-message text-base opacity-60"},[t._v(" "+t._s(t.message)+" ")]):t._e(),i("primary-button",{staticClass:"mt-2",attrs:{title:t.action},on:{click:t.runActionAndClose}})],1)])])},n=[],a=s(87307),o={components:{PrimaryButton:a.Z},props:{icon:{type:String,default:""}},data(){return{showing:!1,title:"",message:"",action:"",callback:null}},methods:{show(t,e,s,i){this.title=t,this.message=e,this.showing=!0,this.action=s||this.$t("general.dismiss"),this.callback=i},async runActionAndClose(){this.callback&&await this.callback(),this.showing=!1}}},l=o,r=s(1001),c=(0,r.Z)(l,i,n,!1,null,"221c3742",null),d=c.exports},33873:function(t,e,s){s.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-row h-14 py-2 items-center px-4 active:brightness-75",on:{click:function(e){t.to?t.$router.push(t.to):t.$emit("click")}}},[s("div",{staticClass:"w-4 mr-4"},[t.icon?s("img",{staticClass:"me-4 text-primary-100 text-2xl",attrs:{src:t.icon}}):t._e()]),s("div",[s("div",[t._v(t._s(t.title))]),t.subtitle?s("div",{staticClass:"text-xs",class:t.subtitleClass},[t._v(t._s(t.subtitle))]):t._e()]),s("div",{attrs:{ckass:"flex-grow"}}),t.loading?s("i",{staticClass:"icon-spinner animate-spin"}):t.appendIcon?s("i",{staticClass:"se-4 text-primary-100 text-2xl",class:t.appendIcon}):t._e()])},n=[],a={components:{},props:{title:{type:String,default:""},subtitle:{type:String,default:""},subtitleClass:{type:String,default:""},icon:{type:String,default:""},appendIcon:{type:String,default:""},to:{type:String,default:""},loading:{type:Boolean}}},o=a,l=s(1001),r=(0,l.Z)(o,i,n,!1,null,null,null),c=r.exports},38952:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex flex-col h-full"},[i("top-bar",{attrs:{title:t.$t("fio.fio")}}),i("div",{staticClass:"px-11 py-8"},[i("list-item",{attrs:{icon:s(18202),loading:t.fio.loading,title:t.$t("general.fioHandle")},on:{click:t.goToFioSettings}}),i("list-item",{attrs:{icon:s(25312),to:"/settings/fio/domains",title:t.$t("general.fioDomains")}}),i("alert-dialog",{ref:"errorDialog"})],1)],1)},n=[],a=(s(57658),s(54907)),o=s(33873),l=s(74293),r=s(17731),c=s(98360),d={components:{TopBar:l.Z,ListItem:o.Z,AlertDialog:a.Z},data(){return{fio:{loading:!1,error:!1,handle:null}}},computed:{publicKey(){const t=this.$store.getters.accountsByCoinType;return t[c.Dc.FIO]}},mounted(){this.fetchFioHandle()},methods:{async fetchFioHandle(){this.fio.loading=!0;try{const t=await r.Z.getFioHandles(this.publicKey);t.fio_addresses?.length&&(this.fio.handle=t.fio_addresses.find((t=>t.fio_address.endsWith("@opera")))?.fio_address,this.fio.handle||(this.fio.handle=t.fio_addresses[0]?.fio_address))}catch(t){404!==t.response.status&&(this.fio.error=!0)}finally{this.fio.loading=!1}},goToFioSettings(){if(this.fio.loading)return;if(this.fio.error)return void this.$refs.errorDialog.show(this.$t("errors.generic.oops"),this.$t("errors.generic.somethingWentWrong"));const t=this.fio.handle;t?this.$router.push({path:"/settings/fio/connect",query:{handle:t}}):this.$router.push({path:"/settings/fio/register",query:{hasOperaDomain:"false"}})}}},f=d,u=s(1001),h=(0,u.Z)(f,i,n,!1,null,null,null),p=h.exports},25312:function(t,e,s){t.exports=s.p+"img/fio_domain.e23444b3.svg"},18202:function(t,e,s){t.exports=s.p+"img/fio_handle.556d7a37.svg"},54398:function(t,e,s){t.exports=s.p+"img/success.5827329e.svg"}}]);